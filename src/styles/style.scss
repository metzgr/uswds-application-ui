// src/styles/style.scss
// Main application styles for uswds-application-ui
// This file brings together USWDS core, custom settings, and custom utilities.

// 1. Forward your custom USWDS settings.
// This makes your variables and configurations (from src/styles/uswds-application-ui/_settings.scss)
// available to USWDS and other modules used later in this file.
// --- 1. FORWARD ALL MODULES --- 
// Forwards make variables, mixins, and functions from other modules available 
// to be used by files that import style.scss, and also allow configurations 
// (like _settings.scss) to be seen by later @use rules (like @use "uswds").

@forward "./uswds-application-ui/settings";

// Forward other custom utility partials. 
// These are typically for utilities generated by USWDS based on your settings, 
// or for custom mixins/functions you want to make globally available.
// Forward all active utilities from the 'utilities' directory via its _index.scss
@forward "./uswds-application-ui/utilities";

// Individual forwards below are now handled by 'utilities/_index.scss'
// // Typography
// @forward "./uswds-application-ui/utilities/typography/font";
// // Layout utilities
// // @forward "./uswds-application-ui/utilities/layout/aspect-ratio";
// // @forward "./uswds-application-ui/utilities/layout/box-decoration-break";
// // @forward "./uswds-application-ui/utilities/layout/box-sizing";
// @forward "./uswds-application-ui/utilities/layout/display"; // Forwards USWDS's display utils, not our ui-display (e.g. .sr-only)
// // @forward "./uswds-application-ui/utilities/layout/object";
// // Flexbox & Grid
// // @forward "./uswds-application-ui/utilities/flexbox-grid/align";
// // @forward "./uswds-application-ui/utilities/flexbox-grid/flex";
// // @forward "./uswds-application-ui/utilities/flexbox-grid/gap";
// @forward "./uswds-application-ui/utilities/flexbox-grid/grid"; // For the .grid class
// // @forward "./uswds-application-ui/utilities/flexbox-grid/justify";
// // @forward "./uswds-application-ui/utilities/flexbox-grid/order";
// // @forward "./uswds-application-ui/utilities/flexbox-grid/place";

// NOTE: If you create new utility partials in the other empty directories
// (e.g., backgrounds, borders, effects, etc.), you will need to add
// @forward rules for them here as well.

// You can also @forward other custom SCSS modules here
// (e.g., custom components, theme overrides).


// --- 2. USE MODULES --- 
// @use makes mixins and functions from modules available for use within this file (style.scss).
// For modules that output CSS (like USWDS itself, or our utility mixins when included),
// @use also includes their CSS. The order of @use can matter if both modules output CSS
// directly without an @include, but here we control CSS output via @include.

@use "uswds"; // USWDS core. This makes USWDS mixins/functions available AND outputs USWDS CSS.
@use "./uswds-application-ui/ui-spacing" as ui_spacing;
@use "./uswds-application-ui/ui-display" as ui_display;     // Our custom ui-display module
@use "./uswds-application-ui/ui-flexbox" as ui_flexbox;    // Our custom ui-flexbox module
@use "./uswds-application-ui/ui-typography" as ui_typography; // Our custom ui-typography module
@use "./uswds-application-ui/ui-grid" as ui_grid;          // Our custom ui-grid module


// --- 3. INCLUDE MIXINS TO GENERATE CSS IN SPECIFIC ORDER --- 
// The order of @include statements here dictates the final CSS output order, 
// which is critical for correct cascading and overrides.

// First, output our custom BASE ui-* utilities.
@include ui_spacing.generate-custom-ui-spacing-base-utilities;
@include ui_display.generate-custom-ui-display-base-utilities;
@include ui_flexbox.generate-custom-ui-flexbox-base-utilities;
@include ui_typography.generate-custom-ui-typography-base-utilities;
@include ui_grid.generate-custom-ui-grid-base-utilities;

// Second, USWDS CSS is already included by the `@use "uswds";` directive above.
// This includes USWDS components and its own utility classes, which will appear
// after our custom base utilities if USWDS also outputs its utilities directly on @use.
// (More precisely, styles from @use come before styles from @include in the same file if not managed)
// However, the critical part is that our RESPONSIVE utilities come last.

// Third, output our custom RESPONSIVE ui-* utilities.
// These must come after all other base utilities (ours and USWDS's) to ensure they can override.
@include ui_spacing.generate-custom-ui-spacing-responsive-utilities;
@include ui_display.generate-custom-ui-display-responsive-utilities;
@include ui_flexbox.generate-custom-ui-flexbox-responsive-utilities;
@include ui_typography.generate-custom-ui-typography-responsive-utilities;
@include ui_grid.generate-custom-ui-grid-responsive-utilities;


// --- Information on CSS output order with @use and @include --- 
// When @use "uswds"; is processed, USWDS outputs its CSS. 
// Then, our @include calls for base utilities output their CSS. 
// Then, our @include calls for responsive utilities output their CSS. 
// This means: 
// 1. USWDS CSS 
// 2. Our Base UI utilities CSS 
// 3. Our Responsive UI utilities CSS 
// This order ensures our responsive utilities can override both USWDS and our base utilities.
