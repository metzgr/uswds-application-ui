

@use "uswds-core" as *;
@use "../_settings" as *;

// -----------------------------------------------------------------------------
// Spacing utilities
// -----------------------------------------------------------------------------

// Generate responsive margin utilities (all directions, axis, and individual sides)

// Example class output: margin-2, margin-top-1, tablet:margin-x-4
@include add-utility("margin",  $theme-spacing-scale, "margin",  true);

// Generate responsive padding utilities

// Example class output: padding-3, padding-left-0-5, desktop:padding-y-6
@include add-utility("padding", $theme-spacing-scale, "padding", true);

// -----------------------------------------------------------------------------
// space-x-*  and  space-y-*
// Utilities for sibling spacing between elements (similar to Tailwind's
// gap-x / gap-y but implemented with USWDS tokens).
// -----------------------------------------------------------------------------

@each $key, $val in $theme-spacing-scale {

    // Horizontal spacing (left/right)
    .space-x-#{$key} > * + * {
      --space-x-reverse: 0;
      margin-right: calc(#{$val} * var(--space-x-reverse));
      margin-left:  calc(#{$val} * calc(1 - var(--space-x-reverse)));
    }
  
    // Vertical spacing (top/bottom)
    .space-y-#{$key} > * + * {
      --space-y-reverse: 0;
      margin-top:    calc(#{$val} * calc(1 - var(--space-y-reverse)));
      margin-bottom: calc(#{$val} * var(--space-y-reverse));
    }
  }